<div ng-include="'nav/navbar.html'"></div>

<div class="container">

  <div class="row">

    <div class="col-sm-12 col-md-8">

      <div class="row">
        <div class="col-sm-12">
          <div class="canvas">

            <h1>{{data.info.name}}</h1>

            <ul class="format">
              <li ng-repeat="word in data.info.format" ng-class="{'active': word == data.info.format[data.info.counter]}">{{word}}&nbsp;</li>
            </ul>

            <ul>
<!--               <li ng-repeat="message in canvas.messages | limitTo: 0">{{message.text}}</li>
 -->              <form name="canvasForm" ng-submit="canvasForm.$valid && canvas.addMessage()" novalidate>
                <input class="new-message" name="message"
                placeholder="{{data.info.format[data.info.counter]}}"
                ng-model="canvas.newMessageText"
                ng-focus="canvas.toggleOn()"
                ng-blur="canvas.toggleOff()"
                required />
              </form>
            </ul>
            <p>Total words submitted: {{data.info.wordCount}}</p>
            <p>Words remaining to unlock: {{data.info.wordsNeeded - data.info.wordCount}}</p>
          </div>
        </div>
      </div>

      <hr>

      <div class="row">
        <div class="col-sm-12">
          <div bs-collapse start-collapsed=true>
            <button class="btn btn-primary" bs-collapse-toggle data-ng-disabled="data.info.wordCount < data.info.wordsNeeded"
            ng-click="canvas.users()">Results</button>
            <div class="results" bs-collapse-target>
              <p><ul>
                <li ng-repeat="message in data.messages" class="{{message.user}}">{{message.text}}&nbsp;</li>
              </ul></p>
            </div>
          </div>
        </div>
      </div>


    </div><!--end col-md-8 -->

    <div class="col-sm-12 col-md-4">

      <div ng-include="'login/login-sidebar.html'"></div>
      <div ng-include="'includes/about.html'"></div>
      <div ng-include="'browse/browse.html'"></div>
      <div ng-include="'canvas/controls.html'"></div>

    </div><!--end col-md-4 -->

  </div>
